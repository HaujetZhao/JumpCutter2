[ä¸­æ–‡](./README.md)ã€€|ã€€[English](./README_en.md) 

[Gitee](https://gitee.com/haujet/JumpCutter2)ã€€|ã€€[Github](https://github.com/HaujetZhao/JumpCutter2) 

# JumpCutter2

## â­ ç®€ä»‹

åŠŸèƒ½ï¼š ä½¿ç”¨ spleeter å°†è§†é¢‘ä¸­çš„äººå£°æå–å‡ºæ¥ï¼ˆå»é™¤èƒŒæ™¯éŸ³ï¼‰ï¼Œå†å¯¹è§†é¢‘ä¸­çš„å£°éŸ³è¿›è¡Œåˆ†æï¼Œåˆ†æˆé™éŸ³éƒ¨åˆ†å’Œéé™éŸ³éƒ¨åˆ†ï¼Œåˆ†åˆ«æ–½åŠ ä¸åŒçš„é€Ÿåº¦ï¼Œæœ€ååˆæˆåˆ°ä¸€ä¸ªæ–°è§†é¢‘ã€‚

ç”¨é€”ç¤ºä¾‹ï¼š 

* å½•åˆ¶æ•™ç¨‹ã€vlog ç±»è§†é¢‘ï¼Œæ²¡æœ‰æ–‡å­—ç¨¿ï¼Œå°±å¿…ç„¶ä¼šæœ‰è®¸å¤šç©ºéš™ç‰‡æ®µï¼Œç”¨äºæ€è€ƒä¸‹ä¸€å¥è¯´ä»€ä¹ˆï¼Œè¿™äº›ç‰‡æ®µå¤šæ˜¯æ²¡æœ‰ä¿¡æ¯å«é‡çš„ï¼ŒåŠ é€Ÿå‰ªæ‰ï¼Œå¯ä»¥æå‡ç”¨æˆ·è§‚çœ‹ä½“éªŒã€‚
* åœ¨è®¸å¤šç§ç±»çš„è§†é¢‘ä¸­ï¼Œåªæœ‰æœ‰å£°éŸ³çš„ç‰‡æ®µæ˜¯äººåœ¨è¯´è¯çš„ï¼Œå…¶ä»–å®‰é™çš„ç‰‡æ®µä¿¡æ¯å«é‡å¾ˆå°‘ï¼Œå°±å¯ä»¥å¯¹é™éŸ³éƒ¨åˆ†åŠ å€é€Ÿï¼Œå‡å°‘æ— ç”¨ä¿¡æ¯ã€‚æ¯”å¦‚å°†ä¸€ä¸ªç½‘è¯¾è§†é¢‘æœ‰å£°é€Ÿåº¦è°ƒä¸º 1ï¼Œé™éŸ³é€Ÿåº¦è°ƒä¸º 9999ã€‚

ä¸‹è½½ï¼š

- å‘è¡Œç‰ˆä¸‹è½½åœ°å€ï¼š [Releases](../../releases) 

ä½¿ç”¨æ•™ç¨‹è§†é¢‘åœ°å€ï¼šhttps://www.bilibili.com/video/BV165411N7By/

## ğŸ“ èƒŒæ™¯

åŸæ¥ [JumpCutter](https://github.com/carykh/jumpcutter) éœ€è¦æŠŠè§†é¢‘æ‰€æœ‰å¸§éƒ½æå–æˆç…§ç‰‡ï¼Œå­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šï¼Œä¸€æ®µ100å¤šå…†çš„è§†é¢‘ï¼Œå°±å¯èƒ½äº§ç”Ÿ20å¤šGçš„å›¾ç‰‡æ–‡ä»¶ï¼Œå¯¹ç¡¬ç›˜å¯¿å‘½å½±å“å¾ˆå¤§ã€‚

æ”¹è¿›åä½¿ç”¨æ ‡å‡†è¾“å…¥å’Œæ ‡å‡†è¾“å‡ºï¼Œæ•°æ®éƒ½æ˜¯ç»è¿‡å†…å­˜ï¼Œä¸å†é¢‘ç¹è¯»å†™ç¡¬ç›˜ã€‚

ç»“åˆäº† pyav å¤šè¿›ç¨‹è¯»å–è§†é¢‘ã€subprocess ffmpeg å†™è§†é¢‘ï¼Œé€Ÿåº¦æ˜¯ JumpCutter çš„ 2 åˆ° 3 å€å¤šã€‚

Spleeter å¯ä»¥å°†éŸ³é¢‘ä¸­çš„äººå£°å’ŒèƒŒæ™¯å£°ï¼ˆéŸ³ä¹ã€é£å£°ã€æ‚éŸ³ï¼‰åˆ†å¼€ã€‚å¦‚æœä½ çš„è§†é¢‘çš„å£°éŸ³ä¸­ï¼Œæœ‰å¤§é‡æ‚éŸ³ï¼Œå½±å“è‡ªåŠ¨åˆ†æ®µï¼Œé‚£å°±å¯ä»¥å¯ç”¨è¿™ä¸ªé€‰é¡¹ï¼Œè„šæœ¬ä¼šå…ˆå°†éŸ³é¢‘å£°éŸ³ä¸­çš„èƒŒæ™¯éŸ³ä¹ã€æ‚éŸ³å»æ‰ï¼Œåªç•™ä¸‹çº¯å‡€çš„äººå£°ï¼Œå†è¿›è¡Œåˆ†æ®µå˜é€Ÿã€‚

å†åŠ ä¸Š spleeter å»é™¤èƒŒæ™¯éŸ³ï¼Œå¯ä»¥åšåˆ°æ¯” JumpCutter æ›´å¥½çš„æ•ˆæœã€‚

## âœ¨ ç‰¹æ€§

ä¸¤ç§è¿è¡Œæ–¹å¼ï¼š

* ç›´æ¥è¿è¡Œï¼Œæ–‡å­—å¼•å¯¼
* å‘½ä»¤è¡Œè¿è¡Œ

## ğŸ› ï¸ å®‰è£…

### ğŸ“¦ å‘è¡Œç‰ˆ

éœ€è¦æå‰å®‰è£…ä¸Š FFmpegã€FFprobeï¼Œä¸€èˆ¬ä¸‹è½½ä¸Š FFmpeg åï¼ŒåŒ…é‡Œå°±æœ‰ FFprobe

å·²ä¸º Windows 64 ä½æ‰“åŒ…æˆå¯ç›´æ¥åŒå‡»è¿è¡Œçš„åŒ…ï¼Œè¯·åˆ° [æœ¬ä»“åº“çš„ Releases](../../releases) ç•Œé¢ä¸‹è½½ã€‚æ€»å…±æœ‰ä¸¤ä¸ªåŒ…ï¼Œä¸€ä¸ªæ˜¯ä¾èµ–åŒ…ï¼ˆé‡Œé¢åŒ…å«äº† tensorflow åº“ã€spleeter æ¨¡å‹ï¼‰ï¼Œä¾èµ–åŒ…æœ‰ 1GB å¤§å°ï¼Œä¸‹è½½åå°±ä¸ç”¨å†æ›´æ–°ä¾èµ–åŒ…äº†ï¼Œå¦ä¸€ä¸ªæ˜¯æºç åŒ…ï¼ˆæ›´æ–°çš„æ—¶å€™åªè¦ä¸‹è½½æ–°çš„æºç åŒ…è¦†ç›–è§£å‹å³å¯ï¼‰ï¼Œå°†ä¸¤ä¸ª 7z å‹ç¼©åŒ…è§£å‹æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹åï¼Œæ–‡ä»¶å¤¹å†…æœ‰ä¸€ä¸ª exe æ–‡ä»¶ï¼ŒåŒå‡»å³å¯è¿è¡Œã€‚ 

ä¹Ÿå¯ä»¥ä»å‘½ä»¤è¡Œè¿è¡Œï¼š

```
JumpCutter2 -h
```

æˆ‘æ²¡æœ‰å…¶ä»–ç³»ç»Ÿï¼ˆä¾‹å¦‚ Linuxã€MacOSï¼‰çš„ç”µè„‘ï¼Œæ‰€ä»¥æ— æ³•ä¸ºå…¶ä»–ç³»ç»Ÿæ‰“åŒ…ï¼Œè¿™äº›ç³»ç»Ÿçš„ç”¨æˆ·éœ€è¦ä»æºä»£ç æˆ– pip å®‰è£…ä½¿ç”¨ã€‚ï¼ˆå‚è§ä¸‹æ–‡ï¼‰

### âš™ï¸ ç”¨ pip å®‰è£…è¿è¡Œ

éœ€è¦æå‰å®‰è£…ä¸Š FFmpegã€FFprobe å’Œ Python3

å¦å¤–è¿˜éœ€è¦ä» [spleeter](https://github.com/deezer/spleeter/releases) ä¸‹è½½ [5stems.tar.gz](https://github.com/deezer/spleeter/releases/download/v1.4.0/5stems.tar.gz) ï¼ˆè®­ç»ƒå¥½çš„æ¨¡å‹ï¼‰ï¼Œå°†å…¶ä¸­çš„å†…å®¹æ–‡ä»¶å¤¹è§£å‹åˆ° `JumpCutter2/pretrained_models/5stems` æ–‡ä»¶å¤¹ä¸­ã€‚

#### ç”¨ pip ä» pypi å®‰è£…

è¿˜æœªä¸Šä¼ 

#### ç”¨ pip ä»æºä»£ç å®‰è£…

å°†ä»“åº“å…‹éš†ä¸‹æ¥ï¼Œè¿›å…¥ä»“åº“æ–‡ä»¶å¤¹ï¼Œè¿è¡Œï¼š

```
pip install .
```

å°±å®‰è£…ä¸Šäº†ã€‚ç„¶åå°±å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ä½¿ç”¨äº†ï¼š

```
JumpCutter2
```

### ğŸ“„ ä»æºä»£ç ç›´æ¥è¿è¡Œ

å°†ä»“åº“å…‹éš†ä¸‹æ¥ï¼Œè¿›å…¥ä»“åº“æ–‡ä»¶å¤¹ï¼Œå…ˆå®‰è£…ä¾èµ–åº“ï¼š

```
pip install -r requirements.txt
```

å†ä» [spleeter](https://github.com/deezer/spleeter/releases) ä¸‹è½½ [5stems.tar.gz](https://github.com/deezer/spleeter/releases/download/v1.4.0/5stems.tar.gz) ï¼ˆè®­ç»ƒå¥½çš„æ¨¡å‹ï¼‰ï¼Œå°†å…¶ä¸­çš„å†…å®¹æ–‡ä»¶å¤¹è§£å‹åˆ° `JumpCutter2/pretrained_models/5stems` æ–‡ä»¶å¤¹ä¸­ã€‚

ç„¶åå°±å¯ä»¥ä»¥æ¨¡å—çš„æ–¹å¼è¿è¡Œï¼š

```
python -m JumpCutter2
```

åœ¨éŸ³é¢‘å˜é€Ÿéƒ¨åˆ†ï¼Œä¼˜å…ˆä½¿ç”¨ [soundstretch](http://www.surina.net/soundtouch/soundstretch.html) ï¼Œè¿™æ˜¯ä¸€ä¸ª c å®ç°çš„å¼€æºçš„éŸ³é¢‘å˜é€Ÿè½¯ä»¶ï¼Œå¯ä»¥ä¸æ”¹å˜å£°è°ƒï¼Œå¯¹éŸ³é¢‘è¿›è¡Œä¼¸ç¼©ï¼Œè®¸å¤šçŸ¥åé¡¹ç›®éƒ½æ˜¯ç”¨ç€å®ƒæ¥è¿›è¡ŒéŸ³é¢‘å˜é€Ÿã€‚

ä½†æ˜¯å®ƒæ²¡æœ‰ python å®ç°ï¼Œæ‰€ä»¥æˆ‘åªèƒ½è°ƒç”¨ä»–çš„äºŒè¿›åˆ¶åŒ…ã€‚è¿™ä¸ª repository å·²ç»åŒ…å«äº† Windows å’Œ MacOS çš„ soundstretch äºŒè¿›åˆ¶åŒ…ã€‚å¦‚æœä½ æƒ³åœ¨å…¶ä»–ç³»ç»Ÿä¸Šä¹Ÿç”¨å®ƒæ¥å¤„ç†éŸ³é¢‘ï¼Œè¯·è‡ªè¡Œå®‰è£…ã€‚

å½“ç„¶å¦‚æœä½ æ²¡æœ‰å®‰è£… [soundstretch](http://www.surina.net/soundtouch/soundstretch.html) çš„è¯ï¼Œä¼šä½¿ç”¨æ¬¡é€‰æ–¹æ¡ˆ audiotsm è¿›è¡Œå˜é€Ÿã€‚ä½†æ˜¯å®ƒçš„å˜é€Ÿæ•ˆæœæœ‰äº›å·®ã€‚

## ğŸ’¡ ä½¿ç”¨

```
python -m JumpCutter2
```

```shell
python -m JumpCutter2 -h
```

ç¬¬ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥è¿è¡Œï¼Œä¼šæœ‰æ–‡å­—æç¤ºå¼•å¯¼ä½ ï¼š

```
> python -m JumpCutter2

ä½ æ²¡æœ‰è¾“å…¥ä»»ä½•æ–‡ä»¶ï¼Œå› æ­¤è¿›å…¥æ–‡å­—å¼•å¯¼ã€‚
ä½ å¯ä»¥åœ¨å‘½ä»¤è¡ŒåŠ ä¸Š -h å‚æ•°è¿è¡Œæ­¤ç¨‹åºä»¥è·å¾—
å‘½ä»¤è¡Œè¿è¡Œçš„å¸®åŠ©ã€‚

ç¨‹åºçš„ç”¨å¤„ä¸»è¦æ˜¯å¯¹è§†é¢‘ä¸­çš„å£°éŸ³è¿›è¡Œåˆ†æï¼Œ
åˆ†æˆé™éŸ³éƒ¨åˆ†å’Œéé™éŸ³éƒ¨åˆ†ï¼Œ
åˆ†åˆ«æ–½åŠ ä¸åŒçš„é€Ÿåº¦ï¼Œæœ€ååˆæˆåˆ°ä¸€ä¸ªæ–°è§†é¢‘ã€‚


è¯·è¾“å…¥è¦å¤„ç†çš„è§†é¢‘æˆ–éŸ³é¢‘æ–‡ä»¶
è¯·è¾“å…¥æ–‡ä»¶è·¯å¾„ æˆ– ç›´æ¥æ‹–å…¥ï¼š
```

ç¬¬äºŒç§æ–¹å¼æ˜¯å‘½ä»¤è¡Œä¼ é€’å‚æ•°è¿è¡Œï¼š

```
> python -m JumpCutter2 -h

usage: __main__.py [-h] [--version] [--suffix Suffix] [--silence-speed Speed] [--sounded-speed Speed] [--buffer-frame Number] [--threshold Threshold] [--codec Codec] [--crf Number] [--only-audio] [--aux File] [--no-spleeter] File [File ...]

åŠŸèƒ½ï¼šå¯¹è§†é¢‘ä¸­çš„å£°éŸ³è¿›è¡Œåˆ†æï¼Œåˆ†æˆé™éŸ³éƒ¨åˆ†å’Œéé™éŸ³éƒ¨åˆ†ï¼Œåˆ†åˆ«æ–½åŠ ä¸åŒçš„é€Ÿåº¦ï¼Œæœ€ååˆæˆåˆ°ä¸€ä¸ªæ–°è§†é¢‘ã€‚

positional arguments:
  File                  è¦å¤„ç†çš„éŸ³é¢‘æˆ–è§†é¢‘æ–‡ä»¶ï¼Œå¯ä¸€æ¬¡æ·»åŠ å¤šä¸ªæ–‡ä»¶

optional arguments:
  -h, --help            show this help message and exit
  --version             show program's version number and exit
  --suffix Suffix       å¤„ç†åç”Ÿæˆçš„æ–‡ä»¶ååç¼€ (default: _JumpCut)
  --silence-speed Speed
                        é™éŸ³ç‰‡æ®µé€Ÿåº¦ (default: 8.0)
  --sounded-speed Speed
                        æœ‰å£°ç‰‡æ®µé€Ÿåº¦ (default: 1.0)
  --buffer-frame Number
                        ç‰‡æ®µé—´ç¼“å†²å¸§æ•° (default: 4)
  --threshold Threshold
                        å£°éŸ³æ£€æµ‹ç›¸å¯¹é˜ˆå€¼ (default: 0.04)
  --codec Codec         è§†é¢‘ç¼–ç å™¨ (default: libx264)
  --crf Number          è§†é¢‘è´¨é‡crfå‚æ•° (default: 23.0)
  --only-audio          åªå¤„ç†éŸ³é¢‘ (default: False)
  --aux File            è¾…åŠ©éŸ³é¢‘æ–‡ä»¶ (default: )
  --no-spleeter         ä¸è¦ä½¿ç”¨ spleeter ç”Ÿæˆè¾…åŠ©éŸ³é¢‘æ–‡ä»¶ (default: False)
```

## ğŸ”‹ æ‰“èµ

æœ¬è½¯ä»¶å®Œå…¨å¼€æºï¼Œç”¨çˆ±å‘ç”µï¼Œå¦‚æœä½ æ„¿æ„ï¼Œå¯ä»¥ä»¥æ‰“èµçš„æ–¹å¼ä¸ºæˆ‘å……ç”µï¼š

![sponsor](assets/Sponsor.png)

## ğŸ˜€ äº¤æµ

å¦‚æœæœ‰è½¯ä»¶æ–¹é¢çš„åé¦ˆå¯ä»¥æäº¤ issuesï¼Œæˆ–è€…åŠ å…¥ [QQ ç¾¤ï¼š1146626791](https://qm.qq.com/cgi-bin/qm/qr?k=DgiFh5cclAElnELH4mOxqWUBxReyEVpm&jump_from=webapi) 